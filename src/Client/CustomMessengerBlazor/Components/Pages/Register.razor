@page "/register"
@using System.ComponentModel.DataAnnotations
@using CustomMessengerBlazor.Models.Users
@inject NavigationManager NavigationManager
@inject IJSRuntime JS
@rendermode InteractiveServer

<main>
    <div class="register-container">
        <h1 class="font-semibold text-xl">Registration</h1>
        <EditForm Model="@user" OnValidSubmit="HandleValidSubmit">
            <DataAnnotationsValidator />

            <div class="input-container">
                <input placeholder=" "  type="text" id="username" @bind="user.Name" />
                <label for="password">Name<span class="text-red-500">*</span></label>
                <ValidationMessage For="@(() => user.Name)" />
            </div>
            <div class="input-container">
                <input placeholder=" " id="username" @bind="user.Username"  />
                <label for="password">Username<span class="text-red-500">*</span></label>
                <ValidationMessage For="@(() => user.Username)" />
            </div>


            <div class="input-container">
                <input placeholder=" "  id="password" @bind="user.Password" type="password"  />
                <label for="password">Password<span class="text-red-500">*</span></label>
                <ValidationMessage For="@(() => user.Password)" />
            </div>

            <div class="input-container">
                <input placeholder=" "  id="phoneNumber" @bind="user.PhoneNumber"  />
                <label for="phoneNumber">Phone Number<span class="text-red-500">*</span></label>
                <ValidationMessage For="@(() => user.PhoneNumber)" />
            </div>
            
            <div class="input-container">
                <input placeholder=" "  id="email" @bind="user.Email"  />
                <label for="email">Email</label>
                <ValidationMessage For="@(() => user.Email)" />
            </div>

            <div class="input-container">
                <textarea id="scrollable" placeholder=" "  @bind="user.Bio" />
                <label for="bio">Bio</label>
            </div>

            <button type="submit" class="submit-button">Register</button>
        </EditForm>
    </div>
</main>

@code {
    private UserRegistration user = new UserRegistration();

    private void HandleValidSubmit()
    {
        NavigationManager.NavigateTo("/login");
    }
}
